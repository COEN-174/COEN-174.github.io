<div id="judging_form">
    <script type="text/javascript" src="judging.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
    <link rel="import" href="../custom-modules/judging-category-fivepoint.html">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
    <script src="http://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
    <form is="iron-form" id="judging_form_container">
        <paper-item style="padding-left: 0px">
            <div style="padding-right: 10px;margin-top: -6px;font-size:14px;" class="noselect">
                Team Members
            </div>
            <div id="team_container"></div>
        </paper-item>
        <h5 class="subheader">Design Project</h5>
        <judging-category-fivepoint category_title="Technical Accuracy" category_parity="category_even"></judging-category-fivepoint>
        <judging-category-fivepoint category_title="Creativity and Innovation" category_parity="category_odd"></judging-category-fivepoint>
        <judging-category-fivepoint category_title="Supporting Analytical Work" category_parity="category_even"></judging-category-fivepoint>
        <judging-category-fivepoint category_title="Methodical Design Process Demonstrated" category_parity="category_odd"></judging-category-fivepoint>
        <judging-category-fivepoint category_title="Addresses Project Complexity Appropriately" category_parity="category_even"></judging-category-fivepoint>
        <judging-category-fivepoint category_title="Expectation of Completion (by term's end)" category_parity="category_odd"></judging-category-fivepoint>
        <judging-category-fivepoint category_title="Design & Analysis of Tests" category_parity="category_even"></judging-category-fivepoint>
        <judging-category-fivepoint category_title="Quality of Response during Q&A" category_parity="category_odd"></judging-category-fivepoint>

        <h5 class="subheader">Presentation</h5>
        <judging-category-fivepoint category_title="Organization" category_parity="category_even"></judging-category-fivepoint>
        <judging-category-fivepoint category_title="Use of Alloted Time" category_parity="category_odd"></judging-category-fivepoint>
        <judging-category-fivepoint category_title="Visual Aids" category_parity="category_even"></judging-category-fivepoint>
        <judging-category-fivepoint category_title="Confidence and Poise" category_parity="category_odd"></judging-category-fivepoint>

        <div id="total">
        <paper-button raised class="form-button" id="totalButton" onclick="tallyScore()">Calculate Grand Total (Sum of Design Project and Presentation Totals):</paper-button>
            <h3 id="tally"></h3>
            <!-- mock div that will display score total once calculated -->
        </div>

        <div class="form-actionable-container">
            <p id="center"><b>Select any of the following considerations that were addressed by the presentation:</b></p>
            <div class="toprow">
                <paper-button toggles raised class="form-topical-button">Economic</paper-button>
                <paper-button toggles raised class="form-topical-button">Environmental</paper-button>
                <paper-button toggles raised class="form-topical-button">Sustainability</paper-button>
                <paper-button toggles raised class="form-topical-button">Manufacturability</paper-button>
            </div>
            <div class="bottomrow">
                <paper-button toggles raised class="form-topical-button">Ethical</paper-button>
                <paper-button toggles raised class="form-topical-button">Health & Safety</paper-button>
                <paper-button toggles raised class="form-topical-button">Social</paper-button>
                <paper-button toggles raised class="form-topical-button">Political</paper-button>
            </div>
        </div>

        <div class="form-actionable-container">
            <paper-textarea class="form-comments-input" name="comments" label="Comments (optional)"></paper-textarea>
        </div>
        <div id="button-container">
            <paper-button raised class="form-button" onclick="submitForm()">Submit</paper-button>
            <!--<paper-button raised class="form-button" onclick="_submit(event)">Submit</paper-button>-->
            <paper-button raised class="form-button" onclick="_reset(event)">Reset</paper-button>
        </div>
    </form>
</div>
<script>

    function tallyScore() {
        var scores = document.getElementsByClassName("category_radio_button noselect style-scope judging-category-fivepoint x-scope paper-radio-button-0 iron-selected");
        var sum = 0;
        for (var i = 0; i < scores.length; i++) {
            sum += parseInt(scores[i].name);
        }
        document.getElementById('tally').innerHTML = sum;

        return true;
    }
    
    function submitForm() {
        var categories = document.getElementsByClassName("category_label noselect style-scope judging-category-fivepoint");
        var scores = document.getElementsByClassName("category_radio_button noselect style-scope judging-category-fivepoint x-scope paper-radio-button-0 iron-selected");
        if(scores.length != categories.length) {
            alert ("Fill out all categories pls");
            return false; // Not all score fields are filled out
        }
        else {
            submit();
            return true;
        }
    }
    
</script>
